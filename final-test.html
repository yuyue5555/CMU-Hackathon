<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æœ€ç»ˆæµ‹è¯•é¡µé¢</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 40px auto;
      padding: 20px;
      background: #f5f5f5;
    }
    
    .test-section {
      background: white;
      padding: 20px;
      margin: 20px 0;
      border-radius: 8px;
      border-left: 4px solid #007bff;
    }
    
    .status {
      background: #e3f2fd;
      padding: 15px;
      border-radius: 5px;
      margin: 20px 0;
    }
    
    .highlight {
      background: #fff3cd;
      padding: 10px;
      border-radius: 5px;
      margin: 10px 0;
    }
  </style>
</head>
<body>
  <h1>ğŸ¯ æœ€ç»ˆæµ‹è¯•é¡µé¢</h1>
  
  <div class="status">
    <strong>æµ‹è¯•è¯´æ˜ï¼š</strong><br>
    1. ç¡®ä¿æ‰©å±•å·²å¯ç”¨<br>
    2. æŸ¥çœ‹ä¸‹é¢çš„æ–‡å­—æ˜¯å¦è¢«è½¬æ¢<br>
    3. æ‚¬åœåœ¨å½©è‰²æ–‡å­—ä¸ŠæŸ¥çœ‹æç¤º<br>
    4. ç‚¹å‡»æ‰©å±•å›¾æ ‡æŸ¥çœ‹çŠ¶æ€
  </div>
  
  <div class="test-section">
    <h3>è‹±æ–‡æµ‹è¯•</h3>
    <p>This is a terrible movie. I hate it so much. The acting is awful and the plot is stupid.</p>
    <p>You are an idiot and your work is useless. This is the worst thing ever.</p>
    <p>I'm so angry and frustrated. Everything is broken and I feel hopeless.</p>
  </div>
  
  <div class="test-section">
    <h3>ä¸­æ–‡æµ‹è¯•</h3>
    <p>è¿™éƒ¨ç”µå½±å¤ªç³Ÿç³•äº†ï¼Œæˆ‘è®¨åŒå®ƒã€‚æ¼”æŠ€å¾ˆå·®ï¼Œå‰§æƒ…æ„šè ¢ã€‚</p>
    <p>ä½ æ˜¯ä¸ªç™½ç—´ï¼Œä½ çš„å·¥ä½œæ¯«æ— ç”¨å¤„ã€‚è¿™æ˜¯æœ€ç³Ÿç³•çš„äº‹æƒ…ã€‚</p>
    <p>æˆ‘å¾ˆæ„¤æ€’å’Œæ²®ä¸§ã€‚ä¸€åˆ‡éƒ½åäº†ï¼Œæˆ‘æ„Ÿåˆ°ç»æœ›ã€‚</p>
  </div>
  
  <div class="test-section">
    <h3>æ··åˆæµ‹è¯•</h3>
    <p>This is a terrible ç³Ÿç³•çš„ movie. I hate è®¨åŒ it so much.</p>
    <p>The acting is awful å¯æ€•çš„ and the plot is stupid æ„šè ¢çš„.</p>
  </div>
  
  <div class="highlight">
    <strong>é¢„æœŸç»“æœï¼š</strong><br>
    â€¢ è´Ÿé¢è¯æ±‡åº”è¯¥è¢«è½¬æ¢ä¸ºæ­£é¢è¯æ±‡<br>
    â€¢ è½¬æ¢åçš„æ–‡å­—åº”è¯¥æœ‰ç»¿è‰²é«˜äº®<br>
    â€¢ æ‚¬åœæ—¶æ˜¾ç¤º "OpenAIè½¬æ¢: [åŸæ–‡å­—]"<br>
    â€¢ æ‰©å±•å›¾æ ‡æ˜¾ç¤ºè½¬æ¢è®¡æ•°
  </div>
  
  <script>
    console.log('æœ€ç»ˆæµ‹è¯•é¡µé¢å·²åŠ è½½');
    
    // æ£€æŸ¥æ‰©å±•çŠ¶æ€
    if (typeof chrome !== 'undefined') {
      chrome.storage.sync.get(['isEnabled', 'useAI'], function(result) {
        console.log('æ‰©å±•çŠ¶æ€:', result);
      });
    }
    
    // ç›‘å¬é¡µé¢å˜åŒ–
    const observer = new MutationObserver((mutations) => {
      mutations.forEach((mutation) => {
        if (mutation.type === 'childList') {
          mutation.addedNodes.forEach((node) => {
            if (node.nodeType === Node.ELEMENT_NODE) {
              const spans = node.querySelectorAll('.positive-replacement');
              if (spans.length > 0) {
                console.log('âœ… æ£€æµ‹åˆ°è½¬æ¢åçš„å†…å®¹:', spans.length, 'ä¸ª');
                spans.forEach(span => {
                  console.log('è½¬æ¢:', span.textContent, 'æç¤º:', span.title);
                });
              }
            }
          });
        }
      });
    });
    
    observer.observe(document.body, {
      childList: true,
      subtree: true
    });
    
    // 10ç§’åæ£€æŸ¥ç»“æœ
    setTimeout(() => {
      const convertedElements = document.querySelectorAll('.positive-replacement');
      if (convertedElements.length > 0) {
        console.log('ğŸ‰ æˆåŠŸï¼æ£€æµ‹åˆ°', convertedElements.length, 'ä¸ªè½¬æ¢çš„å…ƒç´ ');
        alert('âœ… æµ‹è¯•æˆåŠŸï¼æ£€æµ‹åˆ° ' + convertedElements.length + ' ä¸ªè½¬æ¢çš„å…ƒç´ ');
      } else {
        console.log('âŒ æ²¡æœ‰æ£€æµ‹åˆ°è½¬æ¢ï¼Œå¯èƒ½å­˜åœ¨é—®é¢˜');
        alert('âŒ æµ‹è¯•å¤±è´¥ï¼æ²¡æœ‰æ£€æµ‹åˆ°è½¬æ¢çš„å…ƒç´ ');
      }
    }, 10000);
  </script>
</body>
</html>
